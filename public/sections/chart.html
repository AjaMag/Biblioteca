<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="animate.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <title>Chart</title>
</head>
<body>
  <div id="chart_div"></div>
  
  <div class="row">
    <form class="col s12">
      <div class="row">
        <div class="input-field col s6">
          <i class="material-icons prefix">account_circle</i>
          <input id="title" type="text" class="validate">
          <label for="title">Title</label>
        </div>
        <div class="input-field col s6">
          <i class="material-icons prefix">phone</i>
          <input id="author" type="text" class="validate">
          <label for="author">Author</label>
        </div>
      </div>
      <a onclick="searchBook()" class="waves-effect waves-light btn">Search</a>
    </form>
  </div>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script>

    var author = document.querySelector("#author").value.trim();
    var title = document.querySelector("#title").value.trim();
    
    function searchBook() {
      fetch("/books")
        .then(function(data) {
        console.log(data)
      })
    }
    
      google.charts.load('current', { packages: ['corechart', 'bar'] });
      google.charts.setOnLoadCallback(drawMultSeries);

      function drawMultSeries() {
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Books');
        data.addColumn('number', 'Total Stock');
        data.addColumn('number', 'Checked Out');
        data.addColumn('number', 'In Stock');

        data.addRows([
          ["This book", 1, 1, 0],
          ["That book", 2, 1, 1],
          ["Storm Front", 3, 1, 2],
          ["Fool Moon", 4, 2, 2],
          ["Death Masks", 5, 2, 3],
          ["Peace Talks", 6, 3, 3],
          ["Changes", 7, 4, 3],
          ["Ghost Story", 8, 5, 3],
          ["Im Blanking", 9, 7, 2],
          ["Other Book", 12, 10, 2],
        ]);

        var options = {
          title: 'Biblioteca Inventory',
          width: 1000,
          height: 400,
          hAxis: {
            title: 'Books',
            viewWindow: {
              min: [20, 50, 0],
              max: [120, 70, 0]
            }
          },
          vAxis: {
            title: 'Qantity in stock'
          }
        };

        var chart = new google.visualization.ColumnChart(
          document.getElementById('chart_div'));

        chart.draw(data, options);
      }
  </script>
</body>
</html>